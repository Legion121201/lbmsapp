// UserDashboard.js
import React, { useEffect, useState } from 'react';
import axios from 'axios';

const UserDashboard = ({ userId }) => {
  const [assignedBooks, setAssignedBooks] = useState([]);

  useEffect(() => {
    // Fetch user's assigned books
    const fetchAssignedBooks = async () => {
      try {
        const response = await axios.get(`/api/user/${userId}/assigned-books/`); // Adjust the API endpoint
        setAssignedBooks(response.data);
      } catch (error) {
        console.error('Error fetching assigned books:', error);
      }
    };

    fetchAssignedBooks();
  }, [userId]);

  const fetchAssignedBooks = async () => {
    try {
      const response = await axios.get(`/api/user/${userId}/assigned-books/`); // Adjust the API endpoint
      setAssignedBooks(response.data);
    } catch (error) {
      console.error('Error fetching assigned books:', error);
    }
  };

  return (
    <div>
      <h2>Your Assigned Books</h2>
      <ul>
        {assignedBooks.map((book) => (
          <li key={book.id}>{book.title}</li>
        ))}
      </ul>
    </div>
  );
};

export default UserDashboard;
